# Helpers

Helper utilities for INSuRE project: Malware Attribution

The helper module contains classes to help with development and excution of research for the Malware Attribution project.

---

## DownloadAndUnzip

A wrapper class to download and unzip from google drive

---
### Class:
```python
class helpers.DownloadAndUnzip
```
### Initializing:
```python
dluz = DownloadAndUnzip("id", "dl_dest_dir/")
```
### Parameters:
```python
# both parameters are explicit arguments

DownloadAndUnzip(id, dl_dest_dir)

# id is a string from the google drive file id
# dl_dest_dir is the directory for the downloaded file to be saved in.
```
#### Example of Google Drive File ID:
##### Google Drive File URL:
```txt
  https://drive.google.com/file/d/ThIsIsThEFiLeId/view?usp=sharing
```
##### Google Drive File ID:
```txt
  ThIsIsThEFiLeId
```
### Methods:
```python
# Initialize downloader
dluz = DownloadAndUnzip("id", "dl_dest_dir/")

# Download from googledrive
# The file will either be named default.zip
# Or if the file name is recoverable file_name.zip
dl.unzip_file_from_google_drive()
```
## Example Usage
```python
import os
from helpers.download_and_unzip import DownloadAndUnzip

GOOGLE_DRIVE_FILE_ID = "13adLe_BTjF_is81c-XDFDheIkQtniNJc"
DEST_DIRECTORY = os.getcwd()

dluz = DownloadAndUnzip(GOOGLE_DRIVE_FILE_ID, DEST_DIRECTORY)
dluz.unzip_file_from_google_drive()()

# setting up for anothter google download
NEW_GOOGLE_DRIVE_FILE_ID = "1UT9umtQKjrjSs3LF1lZreesWNQAiRqTb"
# allowing Downloader to know the change and calling
# next downlaod
dluz.id = NEW_GOOGLE_DRIVE_FILE_ID
dluz.unzip_file_from_google_drive()
```
---
## Downloader

Downloader class currently for pulling files from googledrive via shareable links.

May implement within a factory if we need to use other hosting means.

For instance if we need to also wrtie an uploader, hosting with S3 may make more sense to avoid the complications with Google Drive api and the OAuth requirements, that are difficult to use within a CLI. If we automare an uploader for S3, then we will need to alos build a downloader for S3. This was taken into consideration with some of the class method names.

Other considerations would be to make the file types generic as well.

---
### Class:
```python
class helpers.Downloader
```
### Initializing:
```python
dl = Downloader("id", "dl_dest_dir/")
```


### Parameters:
```python
# both parameters are explicit arguments

Downloader(id, dl_dest_dir)

# id is a string from the google drive file id
# dl_dest_dir is the directory for the downloaded file to be saved in.
```
#### Example of Google Drive File ID:
##### Google Drive File URL:
```txt
  https://drive.google.com/file/d/ThIsIsThEFiLeId/view?usp=sharing
```
##### Google Drive File ID:
```txt
  ThIsIsThEFiLeId
```
### Methods:
```python
# Initialize downloader
dl = Downloader("id", "dl_dest_dir/")

# Download from googledrive
# The file will either be named default.zip
# Or if the file name is recoverable file_name.zip
dl.download_file_from_google_drive()
```
## Example Usage
```python
import os
from helpers.downloader import Downloader

GOOGLE_DRIVE_FILE_ID = "13adLe_BTjF_is81c-XDFDheIkQtniNJc"
DEST_DIRECTORY = os.getcwd()

dl = Downloader(GOOGLE_DRIVE_FILE_ID, DEST_DIRECTORY)
dl.download_file_from_google_drive()

# setting up for anothter google download
NEW_GOOGLE_DRIVE_FILE_ID = "1UT9umtQKjrjSs3LF1lZreesWNQAiRqTb"
# allowing Downloader to know the change and calling
# next downlaod
dl.id = NEW_GOOGLE_DRIVE_FILE_ID
dl.download_file_from_google_drive()
```
---
## Unzipper

Unzipper is a lot more simple than Downloader, desinged mostly with the intent of wrapping the two together for a seemless download and unzip.

---
### Class:
```python
class helpers.Unzipper
```
### Initializing:
```python
uz = Unzipper("source.zip", "unzip_dest_dir/")
```


### Parameters:
```python
# both parameters are explicit arguments
Unzipper(source, unzip_dest_dir)
# source is the file needed to unzip
# destination directory is where to unzip
```
### Methods:
```python
# Initialize downloader
uz = Unzipper("source.zip", "unzip_dest_dir/")
# call for unzipping the zipped file to the directory
uz.unzip()
```
## Example Usage
```python
import os
import os.path
from helpers.unzipper import Unzipper

SOURCE_ZIP_FILE = "source.zip"
DIR_NAME = SOURCE_ZIP_FILE.strip(".zip")
CURR_DIR = os.getcwd()
DEST_DIRECTORY = os.path.join(CURR_DIR, DIR_NAME)

uz = Unzipper(SOURCE_ZIP_FILE, DEST_DIRECTORY)
uz.unzip()

#Unzipping Another
NEW_SOURCE_ZIP_FILE = "new.zip"
uz.source = NEW_SOURCE_ZIP_FILE
uz.unzip()
```
---
