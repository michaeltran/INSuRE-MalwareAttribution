import os
import os.path
import argparse
from download_and_unzip import DownloadAndUnzip


def report_downloader(root_directory, type):
    CUCKOO_ZIP_ID = "13DEZS89lA6Px_zyOI7o_RCPFQgJGvvu-"
    CUCKOO_DEST_DIR = os.path.join(os.getcwd(), "data/")
    VT_ZIP_ID = "1_7GIZjt85nY44zscX3JntKfDpYyqDVUx"
    VT_DEST_DIR = os.path.join(os.getcwd(), "data/")
    
    os.chdir(root_directory)

    if type == "virustotal":
    	dluz = DownloadAndUnzip(VT_ZIP_ID, VT_DEST_DIR)
    elif type == "cuckoo":
    	dluz = DownloadAndUnzip(CUCKOO_ZIP_ID, CUCKOO_DEST_DIR)
    	
    dluz.unzip_file_from_google_drive()


if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument('-r', '--root', default='../..', help='root directory')
    parser.add_argument('-t', '--type', help='specify "virustotal" or "cuckoo"')
    opts = parser.parse_args()
    report_downloader(opts.root, opts.type)